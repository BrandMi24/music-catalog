/* =========================
   Temas
========================= */
:root[data-theme='light'] {
  --bg: #f5f7fa;
  --panel: #ffffff;
  --text: #111827;
  --muted: #4b5563;
  --accent: #0ea5e9;
  --card: #f9fafb;
  --border: #e5e7eb;
}

:root[data-theme='dark'] {
  --bg: #0b0d10;
  --panel: #13161a;
  --text: #e7edf3;
  --muted: #94a3b8;
  --accent: #22d3ee;
  --card: #161a20;
  --border: #1f2630;
}

/* =========================
   Base
========================= */
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial;
  background: var(--bg);
  color: var(--text);
}

.app { max-width: 1100px; margin: 0 auto; padding: 24px; }

.small { color: var(--muted); font-size: 12px; }

.row { display:flex; align-items:center; gap:10px; }

footer { margin: 24px 0 8px; color: var(--muted); font-size: 12px; text-align:center; }

/* =========================
   Header / Chips / Botones
========================= */
.header { display: flex; align-items: center; gap: 12px; justify-content: space-between; margin-bottom: 16px; }

.brand { display:flex; align-items:center; gap:10px; }
.brand h1 { font-size: 20px; margin: 0; }
.badge { padding: 2px 8px; border: 1px solid var(--border); border-radius: 999px; color: var(--muted); font-size: 12px; }

.search { display: flex; gap: 8px; margin: 16px 0; }
.search input {
  flex: 1; padding: 12px 14px; border-radius: 12px; border: 1px solid var(--border);
  background: var(--panel); color: var(--text);
}
.search button, .tab {
  padding: 10px 14px; border-radius: 12px; border: 1px solid var(--border);
  background: var(--card); color: var(--text); cursor: pointer;
}
.search button:hover, .tab:hover { border-color: var(--accent); }

.tabs { display: flex; gap: 8px; margin: 8px 0 16px; }
.tab.active { outline: 2px solid var(--accent); }

.icon-btn {
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  width: 40px; height: 40px; border-radius: 12px; border: 1px solid var(--border);
  background: var(--card); color: var(--text); cursor: pointer; text-decoration: none;
}
.icon-btn:hover { border-color: var(--accent); }
.icon-btn svg { width: 26px; height: 26px; }
.icon-btn:hover svg { color: var(--accent); filter: drop-shadow(0 0 6px var(--accent)); transition: 0.2s ease; }

.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* Botón “Volver” flotante */
.back-chip{
  position: fixed; top: 16px; left: 16px; z-index: 100;
  display: inline-flex; align-items: center; gap: 6px;
  padding: 8px 12px; border-radius: 999px; border: 1px solid var(--border);
  background: var(--panel); color: var(--text); text-decoration: none;
}

/* =========================
   Grids / Cards
========================= */
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(190px, 1fr)); gap: 14px; }
.card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; }
.card img { width: 100%; aspect-ratio: 1/1; object-fit: cover; display: block; }
.card .meta { padding: 10px 12px; }
.card .title { font-weight: 600; font-size: 14px; margin: 0 0 4px; }
.card .subtitle { color: var(--muted); font-size: 12px; margin: 0; }

/* =========================
   Album Hero
========================= */
.album-hero {
  display: grid; grid-template-columns: 220px 1fr;
  gap: 18px; align-items: center; margin: 8px 0 16px;
}
.cover-lg {
  width: 220px; height: 220px; border-radius: 16px; object-fit: cover;
  border: 1px solid var(--border); background: var(--card);
}
.album-meta .eyebrow { color: var(--muted); font-size: 12px; }
.album-meta .album-title { margin: 6px 0; font-size: 28px; }
.album-meta .album-sub { color: var(--muted); margin-bottom: 10px; }
.hero-actions { display: flex; gap: 10px; align-items: center; }

/* =========================
   Lista de tracks
========================= */
.tracks-list { background: var(--panel); border: 1px solid var(--border); border-radius: 16px; padding: 10px 12px; }

.track {
  display: grid; grid-template-columns: 1fr auto auto; gap: 10px; align-items: center;
  padding: 6px 0; border-bottom: 1px dashed var(--border);
}
.track:last-child { border-bottom: 0; }

/* Fila activa */
.track-active { background: color-mix(in srgb, var(--accent) 10%, transparent); border-radius: 12px; }

/* Controles fila */
.ctrls { display:flex; align-items:center; gap:10px; }
.pill {
  display: inline-flex; align-items: center; justify-content: center; gap: 6px;
  border: 1px solid var(--border); background: var(--card); color: var(--text);
  padding: 6px 10px; border-radius: 999px; cursor: pointer;
}
.pill:hover { border-color: var(--accent); }

.bar {
  flex: 1; position: relative; height: 6px; border-radius: 999px;
  background: var(--border); cursor: pointer; overflow: hidden;
}
.bar-fill { position: absolute; inset: 0 auto 0 0; background: var(--accent); width: 0%; }

/* =========================
   Mini-player fijo inferior
========================= */
:root { --mini-h: 78px; } /* altura aproximada */

.mini-spacer { height: calc(var(--mini-h) + 12px); } /* evita que el contenido quede tapado */

.mini-dock {
  position: fixed; left: 0; right: 0; bottom: 0;
  padding: 8px 16px calc(8px + env(safe-area-inset-bottom));
  z-index: 200;
  background: linear-gradient(
    to top,
    color-mix(in srgb, var(--bg) 92%, transparent),
    transparent 60%
  );
  pointer-events: none; /* el dock no bloquea scroll; el contenido interno sí */
}

.mini-container {
  max-width: 1100px; margin: 0 auto;
  pointer-events: auto; /* habilita interacción dentro del mini */
}

/* Caja del mini-player */
.mini {
  border: 1px solid var(--border);
  border-radius: 16px;
  background: var(--panel);
  padding: 10px 12px;
  height: var(--mini-h);
  display: flex; align-items: center; gap: 12px;
}
.mini img {
  width: 44px; height: 44px; border-radius: 8px; object-fit: cover;
  border: 1px solid var(--border);
}
.mini-meta { min-width: 0; max-width: 260px; overflow: hidden; }
.mini-meta strong { display:block; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.mini-controls { display:inline-flex; align-items:center; gap:8px; }

.mini-progress { flex:1; display:flex; align-items:center; gap:8px; min-width:220px; }
.mini-time { min-width:80px; text-align:right; }

/* Volumen */
.mini-volume { display:inline-flex; align-items:center; gap:8px; min-width:180px; justify-content:flex-end; }
.volume-range { width:120px; pointer-events:auto; }

/* Sliders */
input[type="range"] { appearance:none; height:6px; background:var(--border); border-radius:999px; outline:none; }
input[type="range"]::-webkit-slider-thumb {
  appearance:none; width:14px; height:14px; border-radius:50%;
  background:var(--accent); border:none; cursor:pointer;
}
input[type="range"]::-moz-range-thumb {
  width:14px; height:14px; border-radius:50%;
  background:var(--accent); border:none; cursor:pointer;
}
